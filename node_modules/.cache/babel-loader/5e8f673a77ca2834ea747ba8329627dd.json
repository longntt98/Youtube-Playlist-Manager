{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Long Nguyen\\\\Desktop\\\\trainning react\\\\Youtube-Playlist-Manager\\\\src\\\\components\\\\VideoPlayer.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport { db } from \"../firebase/firebase\";\nimport PlaylistItem from './MyPlaylistItem';\nimport VideoStream from './VideoStream';\n\nfunction VideoPlayer(props) {\n  const [dataFromDB, setDataFromDB] = useState([]);\n  const [nextVideo, setNextVideo] = useState(\"\");\n  const [videoID, setVideoID] = useState(\"\");\n  const [videoTitle, setVideoTitle] = useState(\"\");\n  useEffect(() => {\n    db.ref(`playlist/public/${this.props.match.params.playlistID}`).on(\"value\", data => {\n      let accessModifier = \"\";\n\n      if (data.val()) {\n        accessModifier = \"public\";\n      } else accessModifier = \"private\";\n\n      const db1 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}/playlistVideo`);\n      db1.on(\"value\", data => {\n        let array = [];\n        data.forEach(element => {\n          array.push({\n            videoID: element.key,\n            videoTitle: element.val().videoTitle,\n            videoThumbnail: element.val().videoThumbnail\n          });\n        });\n        setDataFromDB([...array]);\n      });\n      const db2 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}/playlistVideo/${this.props.match.params.videoID}`);\n      db2.on(\"value\", data2 => {\n        this.setState({\n          videoID: this.props.match.params.videoID,\n          nextVideo: data2.val().nextVideo,\n          videoTitle: data2.val().videoTitle\n        });\n      });\n      const db3 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}`);\n      db3.on(\"value\", data => this.setState({\n        playlistTitle: data.val().playlistTitle\n      }));\n    });\n  });\n\n  const getVideo = () => {\n    if (this.state.dataFromDB) {\n      return this.state.dataFromDB.map((value, key) => {\n        return /*#__PURE__*/React.createElement(PlaylistItem, {\n          key: key,\n          videoID: value.videoID,\n          videoThumbnail: value.videoThumbnail,\n          videoTitle: value.videoTitle,\n          playlistID: this.props.match.params.playlistID,\n          videoID2: (videoID, videoTitle) => this.getVideoID(videoID, videoTitle),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 20\n          }\n        });\n      });\n    }\n  };\n\n  const getVideoID = (videoID, videoTitle) => {\n    this.setState({\n      videoID: videoID,\n      videoTitle: videoTitle\n    });\n  };\n\n  const func = params => {\n    this.setState({\n      videoID: params\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(VideoStream, {\n    videoID: this.props.match.params.videoID,\n    nextVideo: this.state.nextVideo,\n    func: params => this.func(params),\n    playlistID: this.props.match.params.playlistID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"videoplayer-video-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, this.state.videoTitle)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    style: {\n      height: \"430px\",\n      overflowY: \"auto\",\n      overflowX: \"hidden\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"videoplayer-video-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, this.state.playlistTitle, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 90\n    }\n  }), \"Quantity: 1/n\"), this.getVideo()))));\n}\n\nexport default VideoPlayer;","map":{"version":3,"sources":["C:/Users/Long Nguyen/Desktop/trainning react/Youtube-Playlist-Manager/src/components/VideoPlayer.js"],"names":["React","Component","useState","useEffect","db","PlaylistItem","VideoStream","VideoPlayer","props","dataFromDB","setDataFromDB","nextVideo","setNextVideo","videoID","setVideoID","videoTitle","setVideoTitle","ref","match","params","playlistID","on","data","accessModifier","val","db1","array","forEach","element","push","key","videoThumbnail","db2","data2","setState","db3","playlistTitle","getVideo","state","map","value","getVideoID","func","height","overflowY","overflowX"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport { db } from \"../firebase/firebase\"\r\nimport PlaylistItem from './MyPlaylistItem';\r\nimport VideoStream from './VideoStream';\r\n\r\nfunction VideoPlayer(props) {\r\n    const[dataFromDB, setDataFromDB] = useState([]);\r\n    const[nextVideo, setNextVideo] = useState(\"\");\r\n    const[videoID, setVideoID] = useState(\"\");\r\n    const[videoTitle, setVideoTitle] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        db.ref(`playlist/public/${this.props.match.params.playlistID}`).on(\"value\", data => {\r\n            let accessModifier = \"\";\r\n            if (data.val()) {\r\n                accessModifier = \"public\";\r\n            } else accessModifier = \"private\";\r\n            const db1 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}/playlistVideo`)\r\n            db1.on(\"value\", data => {\r\n                let array = [];\r\n                data.forEach(element => {\r\n                    array.push({\r\n                        videoID: element.key,\r\n                        videoTitle: element.val().videoTitle,\r\n                        videoThumbnail: element.val().videoThumbnail,\r\n                    })\r\n                })\r\n                setDataFromDB([...array])\r\n            })\r\n            const db2 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}/playlistVideo/${this.props.match.params.videoID}`)\r\n            db2.on(\"value\", data2 => {\r\n                this.setState({\r\n                    videoID: this.props.match.params.videoID,\r\n                    nextVideo: data2.val().nextVideo,\r\n                    videoTitle: data2.val().videoTitle,\r\n                })\r\n            })\r\n\r\n            const db3 = db.ref(`playlist/${accessModifier}/${this.props.match.params.playlistID}`);\r\n            db3.on(\"value\", data => this.setState({ playlistTitle: data.val().playlistTitle }))\r\n    })\r\n\r\n}); \r\n\r\nconst getVideo = () => {\r\n    if (this.state.dataFromDB) {\r\n        return this.state.dataFromDB.map((value, key) => {\r\n            return <PlaylistItem\r\n\r\n                key={key}\r\n                videoID={value.videoID}\r\n                videoThumbnail={value.videoThumbnail}\r\n                videoTitle={value.videoTitle}\r\n                playlistID={this.props.match.params.playlistID}\r\n                videoID2={(videoID, videoTitle) => this.getVideoID(videoID, videoTitle)}\r\n            />\r\n        })\r\n    }\r\n}\r\n\r\nconst getVideoID = (videoID, videoTitle) => {\r\n    this.setState({\r\n        videoID: videoID,\r\n        videoTitle: videoTitle\r\n    });\r\n}\r\n\r\nconst func = (params) => {\r\n    this.setState({\r\n        videoID: params\r\n    });\r\n}\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-8\">\r\n                    <VideoStream videoID={this.props.match.params.videoID} nextVideo={this.state.nextVideo} func={(params) => this.func(params)} playlistID={this.props.match.params.playlistID} ></VideoStream>\r\n                    <p className=\"videoplayer-video-title\">{this.state.videoTitle}</p>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                    <ul className=\"list-group\" style={{ height: \"430px\", overflowY: \"auto\", overflowX: \"hidden\" }}>\r\n                        <p className=\"videoplayer-video-title\">{this.state.playlistTitle}<br/>Quantity: 1/n</p>\r\n                        {this.getVideo()}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default VideoPlayer;"]},"metadata":{},"sourceType":"module"}